!function(e,t){t(e)}("undefined"!=typeof window?window:this,(function(h,sa){function M(){var e,t="0123456789abcdef".split(""),n=[],i=Math.random;n[8]=n[13]=n[18]=n[23]="-",n[14]="4";for(var o=0;36>o;o++)n[o]||(e=0|16*i(),n[o]=t[19==o?3&e|8:15&e]);return n.join("")}function R(t){return e.rum.key+"-"+t}function ta(){for(var t=e.rum.key?e.rum.key:l.getCookie("yo-rum-key"),n=0,i=0,o=0,r=0;r<e.delayed.length;r++){"none"!=(s=e.delayed[r]).orgDelayType&&(W="active",s.newNode&&s.newNode.nodeName?"img"==s.newNode.nodeName.toLowerCase()?i++:"script"==s.newNode.nodeName.toLowerCase()&&"attributesrc"!=s.type&&n++:s.me&&s.me.nodeName&&"script"==s.me.nodeName.toLowerCase()&&o++)}r=null!=t?t:h.location.hostname,t=ca;var a,s=Na,c=Oa,d=document.location.href,u=navigator.userAgent,f=document.title,p=l.def(h.performance)&&l.def(h.performance.timing)&&l.def(h.performance.timing.toJSON),m=l.def(h.performance)&&l.def(h.performance.getEntries),y=l.def(h.performance)&&l.def(h.performance.getEntries),v=l.metaDataValue("X-Yottaa-Optimizations"),b=(new Date).getTime();if(0==l.def(h.performance)||0==l.def(h.performance.getEntriesByType))a={};else{for(var T=(a=h.performance.getEntriesByType("resource")).length,w={},_=0;_<T;_++){var k=a[_],S=w[k.initiatorType];S?(S.count++,S.size+=k.decodedBodySize):w[k.initiatorType]={count:1,size:k.decodedBodySize}}a=w}for(var x in n={siteKey:r,uuid:t,formatVersion:s,releaseDate:c,requestType:"navigation",fullPageURL:d,pageCategory:"",userAgent:u,pageTitle:f,isNavigationSupported:p,isResourceTimingSupported:m,isPaintTimingSupported:y,yOptimizations:v,eventTimestamp:b,entryMap:a,sequencing:{numScriptsSequenced:n,numImagesSequenced:i,numBlocksSequenced:o,numDelayedObjects:e.delayed.length},commonDimensions:{}},e.rum.pageCategory&&(n.pageCategory=e.rum.pageCategory,n.fullPageURL=e.rum.pageCategory),B.geo&&(n.geo=B.geo),i=navigator.connection||navigator.mozConnection||navigator.webkitConnection,n.connection={},1==g.def(i)&&(n.connection.effectiveType=i.effectiveType,n.connection.rtt=i.rtt),N)n.commonDimensions[x]=N[x];n.commonDimensions.optState||(n.commonDimensions.optState=W);try{if(h.localStorage&&localStorage.getItem){if(null!=(E=localStorage.getItem(R(ua)))){var E=JSON.parse(E),C=(new Date).getTime()>E.visitorTimestamp+va;n.visitor={visitorTimestamp:(new Date).getTime(),numVisitorPageViews:E.numVisitorPageViews+1,numSessionPageViews:C?1:E.numSessionPageViews+1,visitorId:E.visitorId?E.visitorId:M(),numSessions:C?E.numSessions+1:E.numSessions,sessionId:C?M():E.sessionId,bandwidth:""}}else n.visitor={visitorTimestamp:(new Date).getTime(),numVisitorPageViews:1,numSessionPageViews:1,numSessions:1,visitorId:M(),sessionId:M(),bandwidth:""};localStorage.setItem(R(ua),JSON.stringify(n.visitor));var L=localStorage.getItem(R(ea));null!=L&&(n.qoe=JSON.parse(L))}}catch(e){l.log("localStorage was not available")}if(1==n.isNavigationSupported&&!0!==e.rum.spa&&(n.navigationTiming=h.performance.timing.toJSON(),wa(n)),n.isPaintTimingSupported=!1,n.paintTiming={},n.userTiming={},n.measureTiming={},h.performance&&h.performance.getEntriesByType){if(null!=(x=h.performance.getEntriesByType("paint"))&&0<x.length)for(n.isPaintTimingSupported=!0,r=0;r<x.length;r++)n.paintTiming[x[r].name]=x[r].startTime;if(null!=(x=h.performance.getEntriesByType("mark"))&&0<x.length)for(r=0;r<x.length;r++)n.userTiming[x[r].name]=x[r].startTime;if(null!=(x=h.performance.getEntriesByType("measure"))&&0<x.length)for(r=0;r<x.length;r++)n.measureTiming[x[r].name]=x[r].duration}Qa(),B.rum=n}function xa(t){for(var n=0;n<e.delayed.length;n++){var i=e.delayed[n];if(i.src==t||i.srcAttr==t)return i}return null}function T(e,t,n,i){return e={lastByteTime:n.duration,implementationType:"dom",type:e,zone:t,resourceName:n.name,resourceSizeBytes:n.decodedBodySize},null!=(n=xa(n.name))&&(e.delayedType=n.orgDelayType,e.delayedValue=n.delayValue),g.def(i)&&(e.stack=i),e}function ya(t){if(0!=l.def(h.performance)&&0!=l.def(h.performance.getEntries)){try{if(!h.localStorage||!h.localStorage.getItem)return}catch(e){return void l.log("localStorage was not available")}var n,i=B.rum,o=[],r=0,a=0,s=(m=h.performance.timing).domInteractive-m.navigationStart,c=m.domContentLoadedEventEnd-m.navigationStart,d=m.domComplete-m.navigationStart,u=m.loadEventEnd-m.navigationStart,f=h.performance.getEntries(),m=f.length;if(document.querySelector&&null!=(n=document.querySelector("img[class*=hero]")))n=n.currentSrc||n.src;else{for(var y=document.getElementsByTagName("img"),v=null,b=0,w=document.documentElement.scrollTop||document.body.scrollTop,_=0;_<y.length;_++){var k=(n=y[_]).getBoundingClientRect();if(!(k.top-w<h.innerHeight))break;k.width*k.height>b&&(v=n.currentSrc||n.src,b=k.width*k.height)}n=v}for(y=0;y<m;y++)v=(w=f[y]).startTime,_=0,"resource"==w.entryType&&(v<=s?(a+=e.rum.advanced.domInteractiveCoef,_=1):v<=c?(a+=e.rum.advanced.domContentLoadedEventCoef,_=2):v<=d?(a+=e.rum.advanced.domCompleteCoef,_=3):v<=u||t&&y<t?(a+=e.rum.advanced.loadEventCoef,_=4):0<w.duration&&(r+=w.duration),b=fa[w.name],0!=_&&w.duration>e.rum.advanced.blockingTime?G.push(T(4,_,w,b)):0==_&&w.duration>e.rum.advanced.performanceTime?G.push(T(0,_,w,b)):w.decodedBodySize>e.rum.advanced.violationSize&&G.push(T(1,_,w,b)),1==w.name.toLowerCase().startsWith("https:")&&1==w.name.toLowerCase().startsWith("http:")&&G.push(T(3,_,w,b)),n==w.name&&(p.setExperienceMetric("hero_image_display",w.startTime+w.duration),p.setExperienceMetric("hero_image",n)),w.toJSON&&((w=w.toJSON()).implementationType="dom",g.def(b)&&(w.stack=b),null!=(b=xa(w.name))&&(w.delayedType=b.orgDelayType,w.delayedValue=b.delayValue),w.onLoadStartTime=v-u,o.push(w)));for(var S in 1<m&&p._calculateTti(f,m,u),h.performance.getEntriesByName&&!0!==e.rum.spaTransition&&(t=document.getElementsByTagName("script"),ha(t,"src"),t=document.getElementsByTagName("link"),ha(t,"href"),t=document.getElementsByTagName("img"),ha(t,"currentSrc")),null==(t=localStorage.getItem(R(ea)))?t={sessionTimeSaved:r,journeyTime:r}:(t=JSON.parse(t),t={sessionTimeSaved:(new Date).getTime()>t.collectionTimestamp+va?r:t.sessionTimeSaved+r,journeyTime:t.journeyTime+r}),t.entries=m,t.timeSaved=r,t.score=a,t.pageMeasured=i?i.fullPageURL:h.location.href,t.pageMeasuredCategory=i?i.pageCategory:"",t.violations=G,!0===e.rum.requests&&(t.resourceTiming=o),t.jsErrors=za,t.pageMeasuredUuid=ca,t.collectionTimestamp=(new Date).getTime(),t.commonDimensions={},N)t.commonDimensions[S]=N[S];wa(t),t.commonDimensions.optState||(t.commonDimensions.optState=W),localStorage.setItem(R(ea),JSON.stringify(t))}}function wa(e){for(var t in e.experienceMetrics={},X)e.experienceMetrics[t]=X[t]}function Qa(){"serviceWorker"in navigator&&new Promise((function(e,t){navigator.serviceWorker.getRegistrations().then((function(t){1<=t.length&&p.addViolation(6,h.location.toString()),e(t.length)})).catch((function(e){t(e)}))}))}function Ra(t,n,i,o){if(e.sequenceWrites&&"script"==t.nodeName.toLowerCase()){for(var r in y)if(0<y[r].length&&o.writeLocation!=y[r][0].getWriteSelector())return g.def(o.writeLocation)&&(t.yo_writeSelector=o.writeLocation),y[r][0].addScript(t),!1;if(r=null,e&&(r=g.select(o.writeLocation)),null!=r){t.write_context=new C(r,t,o.writeLocation);var a=y[o.writeLocation];g.undef(a)&&(a=y[o.writeLocation]=[]),a.push(t.write_context),Y=function(){var e=Array.prototype.slice.call(arguments,0,-1).join("");0<a.length&&a[a.length-1].collectDocumentWrite(e)},t.original_onload=t.onload,t.original_onreadystatechange=t.onreadystatechange,t.onload=t.onreadystatechange=null;var s=!1;t.onerror=t.onload=function(){s||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(g.log("loading ",this,this.write_context.getId()),s=!0,this.original_onload?this.original_onload.call(arguments):k.publish({topic:"sequence/afterloaded/"+t.src,message:t}),this.write_context.finalizeWriteOverride(),this.original_onload=this.write_context=this.onload=this.onreadystatechange=null)},t.onreadystatechange=function(){s||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(g.log("loading ",this,this.write_context.getId()),s=!0,this.original_onload||k.publish({topic:"sequence/afterloaded/"+t.src,message:t}),this.write_context.finalizeWriteOverride(),this.original_onload=this.write_context=this.onload=this.onreadystatechange=null),this.original_onreadystatechange&&this.original_onreadystatechange.call(arguments)}}}return!0}function Sa(t,n,i,o){if(e.sequenceWrites&&"function"!=typeof o.writeLocation){for(var r in y)if(0<y[r].length&&o.writeLocation!=y[r][0].getWriteSelector())return g.def(o.writeLocation)&&(o.yo_writeSelector=o.writeLocation),y[r][0].addScript(t),!1;if(r=null,e&&(r=g.select(o.writeLocation)),null!=r){o.write_context=new C(r,{src:t},o.writeLocation);var a=y[o.writeLocation];g.undef(a)&&(a=y[o.writeLocation]=[]),a.push(o.write_context),Y=function(){var e=Array.prototype.slice.call(arguments,0,-1).join("");0<a.length&&a[a.length-1].collectDocumentWrite(e)}}}return!0}function Ta(e,t){for(;e.firstChild;)e.removeChild(e.firstChild);g.writeHTML(e,t)}function Ua(){if(0!=e.afterShockLoaded){for(var t=0;t<e.delayed.length;t++)if("none"!=e.delayed[t].delayType)return;null!=e.intervalID&&(clearInterval(e.intervalID),e.intervalID=null,g.log("Turning off response timer all objects are loaded."))}}function Aa(t){e.sequenceWrites&&g.undef(t.yo_write)&&(t.yo_write=t.write,Y=Va,t.writeln=t.write=function(){var e=Array.prototype.slice.call(arguments).join("");Y(e,t)})}function Va(t,n){for(var i=!1,o=0;o<e.write.length;o++){var r=e.write[o];if(t.match(r.start)||1==r.state){var a;o={document:n};for(a in r)o[a]=r[a];i=!0,r.string&&0==ia?r.string+=t:(r.state=1,r.string=t),(g.undef(r.end)||t.match(r.end))&&(g.undef(o.delayType)||"none"==o.delayType?(r.config=o,g.def(o.onBefore)&&o.onBefore(r,n),g.undef(o.selector)||null==o.selector?o.selector=n:o.selector=g.select(o.selector),o.selector.yo_write?(ia=!0,-1!=r.string.indexOf("m_js_controller.js")&&(ia=!0),o.selector.yo_write(r.string)):g.writeHTML(o.selector,r.string,o.how),g.def(o.onAfter)&&o.onAfter(r,n)):(g.undef(o.selector)?(o.selector="yo_write_"+Math.floor(1e9*Math.random()),g.undef(o.how)&&(o.how="append"),g.undef(o.delayValue)&&(o.delayValue=o.selector),document.yo_write("<div id="+o.selector+" style=width:0px;height:0px></div>"),o.selector=g.select(o.selector).parentNode):o.selector=g.select(o.selector),a=Yo.sequence.resource(""),g.def(o.onBefore)&&a.beforeLoading(o.onBefore),g.def(o.onLoad)&&a.afterLoaded(o.onLoad),a.type="inner",a.how=r.how,a.newNode=t,a.before=o.selector,a.me=o.selector,e.delayed.push(a),domCompleteTriggered&&a.execute()),r.state=2,r.string="");break}}0==i&&n.yo_write(t),g.log("write hander = "+t)}function Ba(e){return function(t,n,i){var o=Z[(e?"on":"")+t];if(!o)return e?this.yo_addEventListener(t,n,i):this.yo_attachEvent(t,n,i);o.triggered?U((function(){n(o.event)}),0):o.listeners.push(n)}}function Wa(e,t,n){g.log("Adding event ",t[0],t[1]),g.addEvent(e,t[0],(function e(i){g.log("Loading "+n.before.src+" via event handler "+n.delayValue),n.afterShock();var o=null;g.def(i.currentTarget)?o=i.currentTarget:g.def(i.srcElement)&&(o=i.srcElement),g.removeEvent(o,t[0],e)}))}function Ca(t,n){return t.top>n.top-t.height&&t.bottom<n.bottom+e.offset+2*t.height&&t.left>n.left-t.width&&t.right<n.right+e.offset+2*t.width}function Xa(e,t){return Da(this,e,t,"insert")}function Ya(e){return Da(this,e,e,"append")}function Da(t,n,i,o){return k.publish({topic:"sequence/captured",message:{parentNode:t,newNode:n,before:i,captureType:o}}),0==Ea(n,t,(function(t,r){var a=t.clone();a.type=o,a.newNode=n,a.src=n?n.src:"",a.before=i,a.me=r,e.delayed.push(a)}))?O.safeWriteInsert(n,i,t,V(n),"append"==o):(t=e.delayed[e.delayed.length-1],domCompleteTriggered||"none"==t.delayType?t.execute():void 0)}function Ea(e,t,n){var i=null,o=null,r=!1;if(e&&e.nodeName&&(i=e.nodeName.toLowerCase()),"script"==i||"iframe"==i){n(o=V(e),t);r=!0;var a=!1;e.onreadystatechange&&(e.onreadystatechangeOriginal=e.onreadystatechange,e.onreadystatechange=null),e.onreadystatechange=function(){a||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(k.publish({persistent:!0,topic:"sequence/afterloaded/"+o.key,message:o}),a=!0),this.onreadystatechangeOriginal&&this.onreadystatechangeOriginal.apply(this,arguments)},e.onload&&(e.onloadOriginal=e.onload,e.onload=null),e.onload=function(){0==a&&(k.publish({persistent:!0,topic:"sequence/afterloaded/"+o.key,message:o}),a=!0),this.onloadOriginal&&this.onloadOriginal.apply(this,arguments)}}else(null==(o=V(t))||"none"!=o.delayType)&&(n(o,t),o.before=t,r=!0);return g.log(e.nodeName+" "+e.src+" is"+(r?" ":" NOT ")+"sequenced."),0==r&&k.publish({topic:"sequence/beforeloading/"+o.key,message:o}),r}function V(t){var n=t.src;if(1==g.def(t.yo_src)&&(n=t.yo_src),null==n||0==n.length){var i=new(_delayed());return i.delayType="none",i}for(i=0;i<e.resources.length;i++){var o=e.resources[i];if(1==o.match&&1==g.matchUrl(o.url,n)&&((g.undef(t.nodeName)||"xhr"!==t.nodeName)&&!0!==o.xhr||"xhr"===t.nodeName&&!0===o.xhr))return g.log("Found configuration for "+n+" delayType "+o.delayType),"empty"==o.delayType&&(t.src=null==o.delaySrc?"data:text/javascript;plain,//":o.delaySrc,o.delayType="none"),o}return g.log("Did NOT find configuration for "+n+" checking local configuration. "),(i=new(_delayed())).key=i.src=n,null!=t.delayType?("empty"==t.delayType&&(t.src=null==t.delaySrc?"data:text/javascript;plain,//":t.delaySrc,t.delayType="none"),i[t.delayType](t.delayValue)):i[e.defaultType](e.defaultDelay),i.before=t,i}function Fa(){for(var t=0;t<e.resources.length;t++){var n=e.resources[t];if(!n.isConfig){var i=new(_delayed());i.key=i.url=n.url,i.match=!0,i.local=!0,i[n.delayType](n.delayValue),e.resources[t]=i}}}var H={},U=h.setTimeout,Za=h.setInterval,e={defaultDelay:5e3,defaultType:"none",log:!1,throttle:20,sequenceXHR:!1,sequenceWrites:!1,sendTimingData:!1,timingDataURL:"",offset:100,loadOnDOM:!1,scan:["script","img","source","picture"],resources:[],abTesting:[],write:[],intervalID:null,lazyCheckSize:!0,pre:"data-yo-",srcAttrs:["data-yo-src","data-yo-srcset"],afterShockLoaded:!1,optimizeIE:!0,logPrefix:"Yo.utils.log: ",delayed:[],maxMessageSize:2048e3,scriptAttrs:["async","nomodule","defer"]},l={log:function(){if(e.log&&(void 0!==h&&l.def(h.console)&&l.def(h.console.log)||"undefined"!=typeof self&&l.def(self.console)&&l.def(self.console.log))){var t=Array.prototype.slice.call(arguments);t.unshift(e.logPrefix),console.log.apply(console,t)}},def:function(e){return void 0!==e},undef:function(e){return!l.def(e)},isFunction:function(e){return!!(e&&e.constructor&&e.call&&e.apply)},decodeSafeString:function(e){return decodeURIComponent(e)},getCookie:function(e){for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var i=t[n];if(-1!=i.indexOf(e)){for(;" "==i.charAt(0);)i=i.substring(1,i.length);return i.substring(e.length+1,i.length)}}return null},setCookie:function(e,t,n){var i="";return n&&(i=new Date,i="; expires="+(i=new Date(i.getTime()+1e3*n)).toGMTString()),document.cookie=e+"="+t+i+"; path=/",!0},addEvent:function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener&&e.addEventListener(t,n,!1)},removeEvent:function(e,t,n){e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener(t,n,!1)},metaDataValue:function(e,t){var n=document.getElementsByName(e);return null!=n&&1==n.length?1==arguments.length?n[0].getAttribute("content"):n[0].setAttribute("content",t):null},matchUrl:function(e,t){return null!=e&&null!=t&&(l.log("Match src",t,"and url",e),"string"==typeof e&&-1!=t.indexOf(e)||null!=t.match(e))},sendData:function(t,n){if(1==l.isIE("8"))return l.log("IE 8 detected we will not send data back for this browser currently."),!1;var i=JSON.stringify(t);if(navigator.sendBeacon&&i.length<e.maxMessageSize&&3e4>i.length)H.pubsub.publish({topic:"sequence/beforeloading/"+n,message:t}),navigator.sendBeacon(n,i),H.pubsub.publish({topic:"sequence/afterloaded/"+n,message:t});else if(i.length<e.maxMessageSize){var o=new XMLHttpRequest;o.onreadystatechange=function(){4==this.readyState&&l.log("Rum data response received",this.status)},o.open("POST",n,!0),o.setRequestHeader("Content-type","application/json"),o.send(i)}else l.log("Message is larger than max message length for qoe calles message size: ",i.length,e.maxMessageSize)}},k={},K={},$a=1,Ga={},ja=[],ab=function(e,t){U((function(){e.callback.call(e.context,t.message,t.topic)}),0)};k.subscribe=function(e){if(e.id=++$a,l.undef(e.priority)&&(e.priority=0),l.undef(e.priority)&&(e.priority=0),"string"==typeof e.topic&&-1!=e.topic.indexOf("*")&&(e.topic=new RegExp(e.topic.replace(/\*/g,".*"))),"string"==typeof e.topic){e.topic=e.topic.toLowerCase(),1==l.undef(K[e.topic])&&(K[e.topic]=[]),K[e.topic].push(e),K[e.topic].sort((function(e,t){return t.priority-e.priority}));var t=Ga[e.topic];l.def(t)&&e.callback.call(t.context,t.message,t.topic)}else ja.push(e);return l.log("_pubsub.subscribe",e.topic,e.id),e.id},k.publish=function(e){e.topic=e.topic.toLowerCase();for(var t=K[e.topic],n=t=1==l.undef(t)?[]:t.slice(0),i=0;i<ja.length;i++){var o=ja[i];null!=e.topic.match(o.topic)&&n.push(o)}if(e.persistent&&(Ga[e.topic]=e),1==l.def(t)){for(n=[],i=0;i<t.length;i++){o=t[i];var r=!0;if(1==e.async?ab(o,e):(r=o.callback.call(o.context,e.message,e.topic),n.push(r)),l.log("_pubsub.publish",o.topic,o.id),0==r&&!0===e.cancellable)break}return n}return l.log("_pubsub.publish",e.topic,"no callbacks"),0},k.unsubscribe=function(e){for(var t in K)for(var n=K[t],i=0;i<n.length;i++)if(n[i].id==e)return n.splice(i,1),l.log("_pubsub.unsubscribe","found"),!0;return l.log("_pubsub.unsubscribe","not found"),!1};var B={releaseDate:"2020-07-16-CTRL",errors:{has:!1},config:e},ka=function(){return B};k.subscribe({topic:"core/configure",callback:function(t){ka.config=e}}),k.subscribe({topic:"core/start",callback:function(){ka.config=e}}),l.addEvent(h,"error",(function(e){var t=e.message,n=e.lineno,i=e.filename;3==arguments.length&&(t=arguments[0],i=arguments[1],n=arguments[2]),l.log("errorCapture",t,n,i);var o="";try{o=e&&e.error&&e.error.stack?e.error.stack:Error().stack}catch(e){}k.publish({topic:"core/js/error",persistent:!0,message:{message:t,implementationType:"dom",resourceName:i,lineNumber:n,stack:o,collectionTimestamp:(new Date).getTime()}}),B.errors={has:!0}}));var p={},Na="3",Oa="2020-07-16-CTRL",za=[],ea="rapid-js-qoe-5",ua="rapid-js-visitor-3",G=[],W="unknown",N={optState:W},va=18e5,ca=M(),fa={},Ha=0,Ia=0,X={};p.initialize=function(t,n,i,o,r){e.rum={beaconUrl:t,requests:n,key:i,post:!0,advanced:{performanceTime:1500,blockingTime:750,violationSize:1024e3,domInteractiveCoef:200,domContentLoadedEventCoef:150,domCompleteCoef:100,loadEventCoef:50}},l.def(r)&&(r.performanceTime&&(e.rum.advanced.performanceTime=r.performanceTime),r.blockingTime&&(e.rum.advanced.blockingTime=r.blockingTime),r.violationSize&&(e.rum.advanced.violationSize=r.violationSize),r.maxMessageSize&&(e.maxMessageSize=r.maxMessageSize)),h.performance&&h.performance.setResourceTimingBufferSize&&h.performance.setResourceTimingBufferSize(500)},p.addViolation=function(e,t){G.push({lastByteTime:0,implementationType:"dom",type:e,zone:0,duration:0,startTime:-1,resourceName:t,resourceSizeBytes:0})};var ha=function(e,t){for(var n=0;n<e.length;n++)if("href"!=t||"stylesheet"==e[n].rel){var i=e[n][t];if(null!=i&&""!=i&&(0==i.indexOf("//")&&(i=h.location.protocol+i),1==i.startsWith("http"))){var o=h.performance.getEntriesByName(i);null!=o&&0!=o.length||G.push(T(2,0,{name:i,duration:0,decodedBodySize:0},fa[i]))}}};_initializeWebVitals=function(){var e=0;new PerformanceObserver((function(t){t=t.getEntries();for(var n=0;n<t.length;n++){var i=t[n];i.hadRecentInput||(e+=i.value,p.setExperienceMetric("cumulative_layout_shift",e))}})).observe({type:"layout-shift",buffered:!0}),new PerformanceObserver((function(e){e=e.getEntries();for(var t=0;t<e.length;t++){var n=e[t];p.setExperienceMetric("first_input_delay",n.processingEnd-n.startTime),p.setExperienceMetric("first_input_name",n.name),p.setExperienceMetric("first_input_start_time",n.startTime)}})).observe({type:"first-input"}),new PerformanceObserver((function(e){e=e.getEntries();for(var t=0;t<e.length;t++)p.setExperienceMetric("largest_contentful_paint",e[t].startTime)})).observe({type:"largest-contentful-paint",buffered:!0})},p._calculateTti=function(e,t,n){for(var i=[],o=0,r=e[0],a=r.startTime,s=a+r.duration,c=[a,s+2e3],l=1;l<t;l++)if(s=(a=(r=e[l]).startTime)+r.duration,"resource"==r.entryType)if(1==(a>=c[0]&&a<=c[1]||s>=c[0]&&s<=c[1]))i.push(r),2<i.length&&(Ja(i,c=[a,s+2e3]),2<i.length&&(o=c[1]-2e3));else if(a>c[1]-2e3){if(s>n)break;Ja(i,c=[a,s+2e3])}return o<=n&&(o=-2),p.setExperienceMetric("time_to_interactive",o),o};var Ja=function(e,t){for(var n=0;n<e.length;n++){var i=(o=e[n]).startTime,o=i+o.duration;0==(i>=t[0]&&i<=t[1]||o>=t[0]&&o<=t[1])&&(e.splice(n,1),n--)}};p.captureStack=function(){try{return Error().stack}catch(e){return""}},p.set=function(e,t){N[e]=t},p.spa=function(){e.rum&&(e.rum.spa=!0)},p.get=function(){return N},p.now=function(){return h.performance&&h.performance.now?Math.floor(h.performance.now()):Math.floor((new Date).getTime())},p.setExperienceMetric=function(e,t){X[e]=t},p.getExperienceMetric=function(e){return X[e]},k.subscribe({topic:"core/load",callback:function(){l.def(e.rum)&&l.def(e.rum.beaconUrl)&&(e.rum.onLoadTime=p.now(),!0!==e.rum.spa&&U((function(){k.publish({topic:"rum/send",message:B.rum})}),100),l.addEvent(h,"unload",(function(){l.log("unload window event triggered"),ya()})))}}),k.subscribe({topic:"sequence/captured",callback:function(e,t){var n="";e.open_args?n=e.open_args[1]:e.newNode&&e.newNode.src?n=e.newNode.src:e.delayed&&e.delayed.newNode&&e.delayed.newNode.src?n=e.delayed.newNode.src:e.src&&(n=e.src),fa[n]=p.captureStack()}}),k.subscribe({topic:"core/js/error",callback:function(e,t){za.push(e)}}),k.subscribe({topic:"rum/spa/transition/start",callback:function(t,n){if(0!=Ha){var i=p.now(),o=B.rum;for(var r in e.rum.spaTransition=!0,(l.undef(o)||l.undef(o.navigationTiming))&&(l.undef(o)&&(o={}),h.performance&&h.performance.timing&&(o.navigationTiming=h.performance.timing.toJSON())),o.navigationTiming)o.navigationTiming[r]=i;ca=M(),G=[],ya(Ia),h.performance&&p.clearResourceTimings.call(h.performance)}}}),k.subscribe({topic:"rum/spa/rendered",callback:function(t,n){var i=B.rum,o=p.now(),r=i?i.navigationTiming:null;if(ta(),i=B.rum,1==g.undef(i.navigationTiming)&&(i.navigationTiming=r||(h.performance&&h.performance.timing?h.performance.timing.toJSON():{})),t.pageType&&t.viewType&&(i.pageCategory=t.pageType+"-"+t.viewType,i.fullPageURL=i.pageCategory+"-"+h.location.toString()),!0===e.rum.spaTransition)i.navigationTiming.loadEventEnd=o;else{if(!e.rum.onLoadTime)return e.rum.spa=!1;i.navigationTiming.loadEventEnd=i.navigationTiming.navigationStart+(i.navigationTiming.loadEventEnd-i.navigationTiming.navigationStart)+(o-e.rum.onLoadTime)}e.rum.spaTransition=!1,h.performance&&h.performance.getEntries&&(Ia=h.performance.getEntries().length),Ha++,0!=(i=k.publish({topic:"rum/beforeSend",async:!1,message:B.rum})).length&&!1===i[0]||l.sendData(B.rum,e.rum.beaconUrl),H.configure({scan:["img","source","script"]}),H.sequence.displayNow()}}),k.subscribe({topic:"rum/send",callback:function(t,n){ta();var i=k.publish({topic:"rum/beforeSend",async:!1,message:B.rum});0!=i.length&&!1===i[0]||l.sendData(B.rum,e.rum.beaconUrl)}}),h.performance&&h.performance.clearResourceTimings&&(p.clearResourceTimings=h.performance.clearResourceTimings,h.performance.clearResourceTimings=function(){});try{void 0!==h.LayoutShift&&_initializeWebVitals()}catch(e){l.log("WebVital initialize error",e.message)}var P=document;_loadCookieConfig=function(){var a=l.getCookie("yo-aftershock-config");if(null!=a&&0<a.length)try{a=eval(a),Yo.configure(a)}catch(e){}},_domready=function(){function t(t){("poll"===t||"readystatechange"===t.type)&&"complete"!==P.readyState||n||(n=!0,e.afterShockLoaded=!0,k.publish({topic:"core/load",async:!0,message:H,persistent:!0}))}var n=!1,i=!0;if("complete"===P.readyState)e.afterShockLoaded=!0,k.publish({topic:"core/load",async:!0,message:Yo,persistent:!0});else{if(P.createEventObject&&P.documentElement.doScroll){try{i=!h.frameElement}catch(e){}i&&function e(){try{P.documentElement.doScroll("left")}catch(t){return void U(e,50)}t("poll")}()}1==e.loadOnDOM&&(l.addEvent(document,"DOMContentLoaded",t),l.addEvent(document,"readystatechange",t)),l.addEvent(h,"load",(function(e){t(e)}))}},k.subscribe({topic:"core/start",callback:function(){_loadCookieConfig(),_domready()}});var g=l;String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(t||0,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e){return-1!==this.indexOf(e,this.length-e.length)}),g.rewrite=function(e){var t=g.metaDataValue("resource.version"),n=g.metaDataValue("cdn.hostname"),i=g.metaDataValue("profile.id");return location.protocol+n+"/"+i+"/"+location.hostname+"/"+t+(0!=e.indexOf("/")?"/":"")+e},g.rewriteImageAPI=function(e){var t=g.metaDataValue("resource.version"),n=g.metaDataValue("cdn.hostname"),i=g.metaDataValue("profile.id"),o="o~",r=g.browser();return r&&"chrome"===r.name?o+="f_webp":r&&"safari"===r.name&&13<=r.version&&(o+="f_jp2"),1==e.startsWith("/")&&0==e.startsWith("//")&&(e=h.location.protocol+"//"+h.location.hostname+e),location.protocol+n+"/"+i+"/"+o+"/"+t+"/"+e},g.rewriteSrcSet=function(e,t){for(var n=e.split(","),i="",o=0;o<n.length;o++){var r=n[o].trim(),a=r.lastIndexOf(" "),s="";-1!=a&&(s=" "+r.substring(a).trim(),r=r.substring(0,a).trim()),i+=(r=t(r,s))+s,o<n.length-1&&(i+=", ")}return i},g.select=function(e){var t=-1;if(null==e||1==e.length)return null;if("document"==e)return document;if("window"==e)return h;if(g.def(e.nodeName))return e;if("."==e[0])return 0<(e=document.getElementsByClassName(e.substring(1))).length?e[0]:null;if(-1!=(t=e.indexOf("["))){var n=e.substring(0,t),i=(r=e.substring(t+1)).indexOf("]"),o=r.indexOf("["),r=r.substring(0,i),a=0,s=(i=-1,[]),c=null;if(-1!=(a=r.indexOf("~")))i=2;else if(-1!=(a=r.indexOf("*")))i=1;else{if(-1==(a=r.indexOf("=")))return null;i=0}if(-1!=o){t=(o=e.substring(t+1+o+1)).indexOf("]");try{o=parseInt(o.substring(0,t))}catch(e){}}var l=r.substring(0,a);a=r.substring(a+1);for(2==i&&(c=new RegExp(a)),n=document.getElementsByTagName(n),t=0;t<n.length;t++){var d=0<l.length?n[t].getAttribute(l):n[t].innerHTML;(0==i&&d==a||1==i&&null!=d&&-1!=d.indexOf(a)||2==i&&null!=d&&-1!=d.search(c))&&s.push(n[t])}return g.log(e,r,l,a,0==s.length?s.length:s[0]),-1!=o?o<s.length?s[o]:null:s[0]}return"#"==e[0]&&(e=e.substring(1)),document.getElementById(e)},g.writeHTML=function(a,b,c){var d=document.createElement("div");for(d.innerHTML="string"==typeof b?b:b.innerHTML,b=d.childNodes;0<b.length;)if("script"==b[0].nodeName.toLowerCase())if(b[0].src)Yo.sequence.script(d.removeChild(b[0]).src).load();else try{eval(d.removeChild(b[0]).innerHTML)}catch(e){g.log(e)}else"insert"==c?a.parentNode.insertBefore(d.removeChild(b[0]),a):a.appendChild(d.removeChild(b[0]))},g.contains=document.documentElement.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:document.documentElement.contains?function(e,t){return e!==t&&!!e.contains&&e.contains(t)}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},g.updateHeadItemAttributes=function(e,t,n){0>e&&(document.cookie="yo-disable-instanton=true;Max-Age=2",h.location.reload(!0)),e=document.documentElement.getElementsByTagName("head")[0].children[e];for(var i=0;i<t.length;i++)e.removeAttribute(t[i]);for(var o in n)e.setAttribute(o,n[o])},g.replaceHeadItemContent=function(e,t){0>e&&(document.cookie="yo-disable-instanton=true;Max-Age=2",h.location.reload(!0)),document.documentElement.getElementsByTagName("head")[0].children[e].textContent=t},g.isIE=function(e){var t=navigator.userAgent;return!(!t||!e||11!=parseInt(e)||-1==t.indexOf("rv:11"))||(!(!t||!e||-1==t.indexOf("MSIE "+e))||t&&(-1!=t.indexOf("MSIE")||-1!=t.indexOf("rv:11")))},g.browser=function(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?{name:"IE",version:(e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""}:"Chrome"===n[1]&&null!=(e=t.match(/\bOPR|Edge\/(\d+)/))?{name:"Opera",version:e[1]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),{name:n[0].toLowerCase(),version:parseInt(n[1])})},g.inArray=function(e,t,n){var i;if(t){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;n<i;n++)if(n in t&&t[n]===e)return n}return-1};var la=function(e){return k.subscribe({topic:"sequence/beforeloading/"+this.key,callback:e,context:this}),this},ma=function(e){return k.subscribe({topic:"sequence/afterloaded/"+this.key,callback:e,context:this}),this},O={},y={},C=function(a,b,c){this.writeContent="",this.writeLocation=a,this.writeSelector=c,this.offScreenDom=null,this.node=b,this.scripts=[],this.id="yo_write_"+Math.floor(1e9*Math.random()),g.log("creating WriteContext",this.id,this.node.src),C.prototype.getId=function(e){return this.id},C.prototype.collectDocumentWrite=function(e){this.writeContent+=e,g.log("write override",this.getId(),this.node.src,e)},C.prototype.addScript=function(e){this.scripts.push(e)},C.prototype.getWriteSelector=function(e){return this.writeSelector},C.prototype.executeDeferredScripts=function(){for(var e=0;e<this.scripts.length;e++){var t=this.scripts[e].getAttribute("src");g.def(this.scripts[e].yo_src)&&(t=this.scripts[e].yo_src),Yo.sequence.script(t).none().writeLocation(this.scripts[e].yo_writeSelector).load()}},C.prototype.finalizeWriteOverride=function(){null==this.writeLocation?g.log("write location is null, content ignored",this.getId(),this.node.src):0<this.writeContent.length?(g.log("creating off screen DOM",this.getId(),this.node.src),this.offScreenDom=P.createElement("div"),this.offScreenDom.innerHTML=this.writeContent):g.log("no content, just continue",this.getId(),this.node.src),this.continueWrite()},C.prototype.insertContent=function(){for(;0<this.offScreenDom.childNodes.length;){var a=this.offScreenDom.childNodes[0],b=a.nodeName.toLowerCase();if("script"==b){if(b=a.getAttribute("language"),null==b||"vbscript"!=b.toLowerCase()){y[this.writeSelector].push(this);try{this.offScreenDom.removeChild(a)}catch(e){}return Yo.sequence.script(a.getAttribute("src")).none().writeLocation(this.writeSelector).load(),!1}try{eval(a.innerHTML),this.offScreenDom.removeChild(a)}catch(e){}this.writeLocation.parentNode.insertBefore(a,this.writeLocation)}else if("link"==b&&"stylesheet"==a.getAttribute("rel").toLowerCase()){document.getElementsByTagName("head")[0].appendChild(a);try{this.offScreenDom.removeChild(a)}catch(e){}}else this.writeLocation.parentNode.insertBefore(a,this.writeLocation)}return this.offScreenDom.innerHTML="",!0},C.prototype.continueWrite=function(){for(var e=y[this.writeSelector],t=e.pop();t&&(g.log("Continue writing ",t.getId()),!t.offScreenDom||0!=t.insertContent());)0==e.length&&t.executeDeferredScripts(),t=e.pop()}};O.safeWriteInsert=function(e,t,n,i,o){if(1==Ra(e,t,n,i)){var r;e:{try{1==g.def(e.yo_src)&&(1==g.isIE()?e.setAttribute("src",e.yo_src):e.src=e.yo_src),r=1==o||n.contains&&0==n.contains(t)?n.yo_ac(e):n.yo_ib(e,t);break e}catch(t){g.log("ERROR adding node into dom",e,t)}r=void 0}return r}},O.safeWriteEval=function(t,n,i,o,r){if(1==Sa(t,n,i,o))try{t=t.replace("<scriipt>","").replace("</scriipt>",""),"gpt"==r&&(t="googletag.cmd.push(function() { googletag.pubads().enableSyncRendering = function(){}; "+t+"});"),h.eval(t),e.sequenceWrites&&o.write_context.finalizeWriteOverride()}catch(e){g.log("Error eval",e)}},e.delayed=[],e.targets=[];var D=function(){this.executed=!1,this.cont=!0};D.prototype.afterLoaded=ma,D.prototype.beforeLoading=la,D.prototype.execute=function(){return this.afterShock()},D.prototype.clone=function(){var e,t=new D;for(e in this)t[e]=this[e];return t},D.prototype.preventDefault=function(){this.cont=!1},D.prototype.key=null,D.prototype.isConfig=function(e){return this.delayType==e},D.prototype.afterShock=function(){var t=null;if(1!=this.loaded&&(this.delayType="none",this.loaded=!0,g.log("Injecting ",this.newNode,", by ",this.type," into the DOM now."),"attributesrc"!=this.type&&k.publish({topic:"sequence/beforeloading/"+this.key,message:this}),0!=this.cont)){var n=this.newNode,i=this.type,o=this.before;if("insert"==i)t=O.safeWriteInsert(n,o,this.me,this,!1);else if("append"==i)t=O.safeWriteInsert(n,null,this.me,this,!0);else if("replace"==i)this.me.replaceChild(n,o),k.publish({topic:"sequence/afterloaded/"+this.key,message:this});else if("attributesrc"==i)o.setAttribute("src",n.yo_src);else if("src"==i)g.def(this.animator)&&null!=this.animator?animator(o,this.animator):g.def(e.animator)&&animator(o,e.animator),null!=(n=o.getAttribute(e.pre+"srcset"))&&o.setAttribute("srcset",n),o.src=this.srcAttr;else if("style"==i)n.setAttribute("style",n.getAttribute(e.pre+"style"));else if("inner"==i)g.log(this.how+" -> "+n),"replace"==this.how?Ta(o,n):"eval"==this.how||"gpt"==this.how?t=O.safeWriteEval(n,o,this.me,this,this.how):g.writeHTML(o,n,this.how),k.publish({persistent:!0,topic:"sequence/afterloaded/"+this.key,message:this});else if("function"==i)g.log(this.how+" -> "+n),o=this.key.apply(this.funcThis,this.funcParameters),k.publish({topic:"sequence/afterloaded/"+this.key,message:{delayed:this,retVal:o}});else if("xhr"==i){this.xhr.onreadystatechange&&(this.xhr.original_oonreadystatechange=this.xhr.onreadystatechange);var r=this;this.xhr.onreadystatechange=function(e){4==r.xhr.readyState&&k.publish({topic:"sequence/afterloaded/"+r.key,message:[e,this]}),r.xhr.original_oonreadystatechange&&r.xhr.original_oonreadystatechange.apply(this)},this.xhr.xhr_send.apply(this.xhr,this.xhr._yo.send_args)}else"image"==i&&this.loadImage(this);return Ua(),t}},_delayed=function(){return D};var $=function(t){var n=new(_delayed());"string"==typeof t&&0==t.indexOf("/")&&t.lastIndexOf("/")==t.length-1&&(t=new RegExp(t)),n.key=n.url=t,n.match=!0,g.undef(e.resources)&&(e.resources=[]);for(var i=-1,o=0;o<e.resources.length;o++){var r=e.resources[o].url;if("string"==typeof t&&"string"==typeof r&&-1!=t.indexOf(r)||"string"!=typeof r&&"string"==typeof t&&null!=t.match(r)){i=o;break}}return n.writeLocation=function(e){return this.writeLocation=e,this},-1==i?e.resources.push(n):e.resources.splice(i,0,n),n},Y=null,ia=!1;k.subscribe({topic:"core/configure",callback:function(){Aa(document)}});var I={},cb=function(e,t,n,i,o){return this._yo={open_args:arguments,async:!1!==n},g.log("xhr open = "+t+", async "+n),k.publish({topic:"sequence/captured",message:this._yo}),this.xhr_open.apply(this,arguments)},db=function(t){if(g.undef(this._yo)||!0!==this._yo.async)return this.xhr_send.apply(this,arguments);var n=this,i={src:this._yo.open_args[1],nodeName:"xhr"};return 0==Ea(i,i,(function(t,i){var o=t.clone();o.type="xhr",o.xhr=n,o.src=i.src,o.newNode=i,e.delayed.push(o),1==e.afterShockLoaded&&o.execute()}))?(g.log("xhr send is NOT defered, "+i.src),this.xhr_send.apply(this,arguments)):(this._yo.send_args=arguments,g.log("xhr send is defered, "+i.src+", "+e.delayed[e.delayed.length-1].delayType),this)},eb=function(){if(g.undef(this._yo)||g.undef(this._yo.send_args)||!0!==this._yo.async)return this.xhr_abort.apply(this,arguments);g.log("Abort to the xhr object is called"," async true")};I.create=function(e){return(e=$(e)).xhr=!0,e.rewrite=function(e){this.afterLoaded((function(t){g.log("Begging to rewrite data for ajax call.");try{if(!(2>t.length)){var n=t[1],i=n.responseText;i=e.call(this,i);Object.defineProperty&&(Object.defineProperty(n,"responseText",{get:function(){return i}}),Object.defineProperty(n,"response",{get:function(){return i}}))}}catch(e){g.log("Error in rewrite handling",e)}}))},e},I.captureMethods=function(e){1==g.undef(e.XMLHttpRequest.prototype.xhr_open)&&(e.XMLHttpRequest.prototype.xhr_open=e.XMLHttpRequest.prototype.open,e.XMLHttpRequest.prototype.xhr_send=e.XMLHttpRequest.prototype.send,e.XMLHttpRequest.prototype.xhr_abort=e.XMLHttpRequest.prototype.abort)},I.overrideMethods=function(e){e.XMLHttpRequest.prototype.open=cb,e.XMLHttpRequest.prototype.send=db,e.XMLHttpRequest.prototype.abort=eb},I.captureMethods(h),k.subscribe({topic:"core/configure",callback:function(){1==e.sequenceXHR&&1==g.def(XMLHttpRequest)&&I.overrideMethods(h)}}),_findTags=function(t,n){var i,o=document.getElementsByTagName(t);g.log("Find all "+t+" tags in the document.");for(var r=0,a=o.length;r<a;r+=1){if(i=o[r],!0===n)null==(s=i.getAttribute(e.pre+"delayType"))||"defer"!=s&&"lazy"!=s||(i.setAttribute(e.pre+"delayType","none"),i.setAttribute(e.pre+"delayValue","")),null!=(s=i.getAttribute("type"))&&(-1<s.indexOf("yo/sequence/defer")||-1<s.indexOf("yo/sequence/lazy"))&&i.setAttribute("type","yo/sequence/none/");if("true"!==i.getAttribute(e.pre+"loaded")){var s=_srcAttr(i),c=i.getAttribute(e.pre+"style");s?(g.log("Found src ",t,", src = "+s+" tag to handle with AfterShocK."),Yo.sequence.content(i).load()):"script"==t?(s=i.getAttribute("type"),i.getAttribute(e.pre+"src"),s&&-1<s.indexOf("yo/sequence")?(g.log("Found a "+t+", yo/sequence tag to handle with AfterShocK."),Yo.sequence.content(i).load()):"yo/abtest"==s&&_abTestScript(i)):c&&(g.log("Found style ",t,", src = "+s+" tag to handle with AfterShocK."),(i=Yo.sequence.content(i)).type="style",i.before=i.newNode,i.load())}}},_srcAttr=function(t){for(var n=0;n<e.srcAttrs.length;n++){var i=t.getAttribute(e.srcAttrs[n]);if(null!=i)return i}return(i=t.getAttribute("src"))&&"data:image/cloaked;plain,"==i.slice(0,25)?i.substring(25):null},_loadFromDOM=function(t){t="string"==typeof t?g.select(t):t;var n=content=g.select(t.getAttribute(e.pre+"location")),i=t.getAttribute(e.pre+"how"),o=new(_delayed()),r=t.nodeName.toLowerCase(),a=t;"eval"==i||"gpt"==i?(content=t.innerHTML,o=Yo.sequence.script(content)):null==i&&(i="replace");var s=t.getAttribute(e.pre+"key");null!=s&&(o.key=s);var c=t.getAttribute(e.pre+"delayType"),l=t.getAttribute(e.pre+"delayValue"),d=t.getAttribute("src"),u=_srcAttr(t),f=u&&0<u.length?"src":"inner",p=(d=t.getAttribute(e.pre+"animator"),t.getAttribute(e.pre+"onbefore"));null!=p&&g.isFunction(h[p])&&o.beforeLoading(h[p]);var m=t.getAttribute(e.pre+"onLoad");if(null!=m&&g.isFunction(h[m])&&o.afterLoaded(h[m]),null==content&&(content=t,i="insert"),t.setAttribute(e.pre+"loaded","true"),-1===g.inArray(t,e.targets)){if(o.animator=d,"img"==r||"source"==r||"picture"==r)null==c&&(c="lazy"),null==n&&(n=t);else if("script"==r){if(null!=(d=t.getAttribute("type"))&&(2<(d=d.split("/")).length&&(c=d[2],l=d[3])),d=t.getAttribute(e.pre+"writeLocation"),o.writeLocation=null!=d?d:t,null!=(d=t.getAttribute(e.pre+"src"))){for(null==c&&(c="none"),n={},i=0;i<e.scriptAttrs.length;i++)n[o=e.scriptAttrs[i]]=t.getAttribute(o);return o=Yo.sequence.script(d,n)[c](l),null!=s&&(o.key=s),null!=p&&g.isFunction(h[p])&&o.beforeLoading(h[p]),null!=m&&g.isFunction(h[m])&&o.afterLoaded(h[m]),o.src=d,o.me=t,o.load(),o}null==n&&(n=t)}return null==c&&(c="none"),1==g.contains(document.documentElement,t)&&t.setAttribute(e.pre+"loaded","true"),o[c](l),o.before=n,o.me=a,o.type=f,o.srcAttr=u,o.how=i,o.match=!1,o.newNode="eval"==i||"gpt"==i?content:t,o.key||(o.key=o.srcAttr),o}},k.subscribe({topic:"core/load",callback:function(){Yo.sequence.scanTags(!1)}});var r={},Z={},aa=function(e,t,n){g.def(Z[t])||(Z["on"+t]={object:e,name:t,triggered:!1,event:null,listeners:[]},g.addEvent(e,t,(function(e){var n=Z["on"+t],i=n.listeners;n.event=e,navigator.userAgent.match(/MSIE /)&&(n.event={type:e.type});for(var o=0;o<i.length;o++)i[o].call(n.object,e);n.triggered=!0})),!e.yo_addEventListener&&e.addEventListener&&n&&(e.yo_addEventListener=e.addEventListener,e.addEventListener=Ba(!0)),!e.yo_attachEvent&&e.attachEvent&&n&&(e.yo_attachEvent=e.attachEvent,e.attachEvent=Ba(!1)))};r.loadEvents=function(){aa(h,"load",!0),aa(document,"readystatechange",!1),aa(document,"DOMContentLoaded",!1),aa(document,"DOMFrameContentLoaded",!0)};var ba=null,Ka=function(e){e.tempImage=new ba;var t=e.image.onload;e.image.onload=null,e.tempImage.onload=function(n){t&&t.call(e.image,n),k.publish({topic:"sequence/afterloaded/"+e.key,message:arguments})};var n=e.image.onerror;e.image.onerror=null,e.tempImage.onerror=function(t){n&&n.call(e.image,t),k.publish({topic:"sequence/afterloaded/"+e.key,message:arguments})},k.publish({topic:"sequence/beforeloading/"+e.key,message:arguments}),e.tempImage.src=e.src,e.image.setAttribute("src",e.src)},fb=function(){null==ba&&(ba=Image,Image=function(){var t=new ba;try{Object.defineProperty(t,"src",{set:function(n){this.yo_src=n,Yo.utils.log("Overloaded image src being set",n),n={src:n,key:n.toLowerCase()},k.publish({topic:"sequence/captured",message:n});var i={src:n.src,key:n.key,nodeName:"image"};nodeConfig=V(i);var o=nodeConfig.clone();o.type="image",o.src=i.src,o.image=this,o.newNode=i,e.delayed.push(o),o.loadImage=Ka,1==e.afterShockLoaded&&o.execute(),n.image=t,"none"==nodeConfig.delayType&&Ka(n)},get:function(){return this.yo_src?this.yo_src:""}})}catch(e){g.log(e)}return t})};k.subscribe({topic:"core/configure",callback:function(){1==e.sequenceImage&&fb()}}),k.subscribe({topic:"core/load",callback:function(){}}),_delayed().prototype.defer=function(t){return this.orgDelayType=this.delayType="defer",this.delayValue=t,1==g.isIE()&&0==e.optimizeIE?(g.log("Override defer on IE",this.url),this.none()):(this.execute=function(){if(0!=e.afterShockLoaded&&1!=this.executed){this.executed=!0,g.log("Loading ",this.newNode," via timer event. It will load in ",this.delayValue);var t=this;return U((function(){t.afterShock()}),1*this.delayValue),this}},this)},_delayed().prototype.event=function(t){return this.orgDelayType=this.delayType="event",this.delayValue=t,this.execute=function(){if(0!=e.afterShockLoaded&&1!=this.executed){this.executed=!0,g.log("Event handling "+this.before.src+" "+this.delayValue);var t=this.delayValue.split(" "),n=t[0].toLowerCase(),i=this;if("beforeloading"==n||"afterloaded"==n){if("#adjacent"==(t=t[1]))return this.defer(0);k.subscribe({topic:"sequence/"+n+"/"+t,context:this,callback:function(e){g.log("Loading "+(this.before?this.before.src:"no object")+" via event handler "+this.delayValue),i.afterShock()}})}else"pubsub"==n?(t=t[1],k.subscribe({topic:t,context:this,callback:function(e){g.log("Loading "+(this.before?this.before.src:"no object")+" via pubsub handler "+this.delayValue),i.afterShock()}})):Wa(g.select(t[1]),t,this);return this}},this},k.subscribe({topic:"core/load",callback:function(){}});var L={},J={top:0-e.offset,left:0-e.offset,height:0,width:0,right:0,bottom:0},La=function(e){return e=e.getBoundingClientRect(),g.undef(e.width)&&(e={top:e.top,left:e.left,right:e.right,bottom:e.bottom,width:e.right-e.left,height:e.bottom-e.top}),e},q,Ma;document.defaultView&&document.defaultView.getComputedStyle&&(q=function(e,t){var n,i;if(i=e.ownerDocument.defaultView)return(i=i.getComputedStyle(e,null))&&(""!==(n=i.getPropertyValue(t))||g.contains(e.ownerDocument.documentElement,e)||(n=e.style[t])),n}),document.documentElement.currentStyle&&(Ma=function(e,t){var n=e.currentStyle&&e.currentStyle[t];return""===n?"auto":n});var na=q||Ma,a,c;document.getElementsByClassName||(document.getElementsByClassName=function(e){return this.querySelectorAll("."+e)}),L.scrollHandler=function(t){if(J.height=h.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,J.bottom=J.height,J.width=h.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,J.right=J.width,g.undef(document.documentElement.getBoundingClientRect))return!0;for(var n=0;n<e.delayed.length;n++)if(e.delayed[n].isConfig("lazy")){var i=n,o=e.delayed[i],r=o.delayValue;if("string"==typeof r?r=g.select(r):(null==r||g.def(r))&&(r=o.before),null!=r&&1==g.contains(document.documentElement,r))if(o=La(r),0==(null!=e.intervalID&&g.def(r.getBoundingClientRect))&&o.top<J.height+e.offset)g.log("showIfVisible is visible ",i,", ",r),e.delayed[i].afterShock();else{var a;if((a=1==(null!=e.intervalID&&g.def(r.getBoundingClientRect)))&&(a=!e.lazyCheckSize||0<o.width&&0<o.height)&&(a=1==Ca(o,J))){e:{for(var s=(a=r).parentNode;null!=s&&1==s.nodeType;){var c=na(s,"overflow");if(c&&"hidden"==c.toLowerCase())a.yo_clipped=s;else if(0==na(s,"opacity")||"none"==na(s,"display")){o=!1;break e}s=s.parentNode}1==g.undef(a.yo_clipped)&&(a.yo_clipped=!1),o=0==a.yo_clipped||Ca(o,La(a.yo_clipped))}a=1==o}a&&(g.log("showIfVisible is visible ",i,", ",r),e.delayed[i].afterShock())}0}},L.delayed=function(e){return this.orgDelayType=this.delayType="lazy",this.delayValue=e,this.execute=function(e){return this},this},a=L.scrollHandler,c=0,q=function(){var e=+new Date;e-c<20||(c=e,a.apply(this,arguments))},g.addEvent(h,"scroll",q),g.addEvent(h,"resize",q),k.subscribe({topic:"core/load",callback:function(){L.scrollHandler()}}),_delayed().prototype.lazy=L.delayed,k.subscribe({topic:"core/configure",callback:function(t){0<t.lazyTimer&&null==e.intervalID&&(e.intervalID=Za(L.scrollHandler,t.lazyTimer))}}),_delayed().prototype.none=function(){return this.orgDelayType=this.delayType="none",this.execute=function(){return this.afterShock()},this},_delayed().prototype.remove=function(e,t,n){var i=!1,o="yostore"+g.metaDataValue("resource.version")+this.key;return g.undef(e)||"always"==e?i=!0:"session"==e?sessionStorage&&"true"==sessionStorage.getItem(o)?i=!0:sessionStorage&&sessionStorage.setItem(o,"true"):"visitor"==e&&(localStorage&&"true"==localStorage.getItem(o)?i=!0:localStorage&&localStorage.setItem(o,"true")),1==i?(this.orgDelayType=this.delayType="remove",this.execute=function(){return this}):this[t](n),this};var oa=null,gb=function(e,t){var n=g.select(t);(oa=new MutationObserver((function(n){for(var i=!1,o=0;o<n.length;o++){var r=n[o];if("attributes"==r.type&&"observe.attributes"==e.delayType||"observe.all"==e.delayType){if(g.log("The "+r.attributeName+" attribute was modified for ",t),"all"==e.delayValue){i=!0;break}if(r.attributeName==e.delayValue){i=!0;break}}else if("childList"==r.type&&"observe.children"==e.delayType||"observe.all"==e.delayType){if(g.log("A child node has been added or removed for",t),"all"==e.delayValue){i=!0;break}if(0<r.addedNodes.length&&"added"==e.delayValue){i=!0;break}if(0<r.removedNodes.length&&"removed"==e.delayValue){i=!0;break}}}1==i&&(e.afterShock(),oa.disconnect())}))).observe(n,{attributes:!0,childList:!0})};_delayed().prototype.observe=function(t,n,i){return this.orgDelayType=this.delayType="observe."+n,this.delayValue=i||"all","undefined"==typeof MutationObserver?(g.log("Override defer on IE",this.url),this.none()):(this.execute=function(){if(0!=e.afterShockLoaded&&1!=this.executed)return this.executed=!0,g.log("Loading ",this.newNode," via observer. It will loaded when ",t,"changes",n),gb(this,t),this},this)};var n={};domCompleteTriggered=!1,n.node=function(e){(e=g.select(e))&&(e.yo_ac=g.def(e.yo_ac)?e.yo_ac:e.appendChild,e.yo_ib=g.def(e.yo_ib)?e.yo_ib:e.insertBefore,e.appendChild=Ya,e.insertBefore=Xa)},n.clearNode=function(e){g.def(e.yo_ib)&&(e.insertBefore=e.yo_ib),g.def(e.yo_ac)&&(e.appendChild=e.yo_ac)},n.addScanner=function(t){e.scan||(e.scan=[]),-1===g.inArray(t,e.scan)&&e.scan.push(t)},n.displayNow=function(e){!0===e&&"active"==Yo.rum.get().optState&&(e=!1),g.log("Handle the display of all visible tags up to now."),n.scanTags(!0,e),L.scrollHandler({})},n.createTimer=function(e,t){Yo.configure({lazyTimer:e}),t&&Yo.configure({lazyCheckSize:t})},n.createElement=function(t){t.yo_createElement||(t.yo_createElement=t.createElement,t.createElement=function(n){var i=t.yo_createElement(n),o=n.toLowerCase();if(g.log("_sequencing.createElement",i,n),("iframe"==o||"script"==o)&&1==g.undef(i.yo_src_override)){i.yo_src_override=!0;try{Object.defineProperty(i,"src",{set:function(t){if(this.yo_src=t)if(g.log("Object.src",t),nodeConfig=V(this),null!=nodeConfig&&"none"!=nodeConfig.delayType){if((t=nodeConfig.clone()).type="attributesrc",t.newNode=this,t.before=this,t.me=this,e.delayed.push(t),domCompleteTriggered)return t.execute()}else this.setAttribute("src",t)},get:function(){return this.yo_src?this.yo_src:""}})}catch(e){g.log(e)}}return i})},n.resource=$,n.script=function(t,n){var i=$(t);return i.src=t,i.newNode=t,1==g.undef(n)&&(n={}),i.before={src:t,attributes:n},i.load=function(e){var t=document.createElement("script");for(var i in t.type="text/javascript",n.async=!0,n)null!=n[i]&&t.setAttribute(i,n[i]);return t.yo_src=this.url,(e||document.getElementsByTagName("script")[0].parentNode).appendChild(t),this},i.eval=function(){return e.delayed.push(this),this.how="eval",this.type="inner",this.execute(),this},i.apply=function(t,n){return e.delayed.push(this),this.how="apply",this.type="function",this.funcThis=t,this.funcParameters=n,this.execute(),this},i.writeLocation=function(e){return this.writeLocation=e,this},i},n.xhr=I.create,n.content=function(t){var n=_loadFromDOM(t);return k.publish({topic:"sequence/captured",message:{delayed:n,location:t}}),n.load=function(){g.log("Sequence a script = "+t.id+", type "+this.type),null==this.delayType||"none"==this.delayType?g.log("Content found that needs to be loaded immediately"):g.log("Content found that needs to be sequenced",this.delayType,this.delayValue),this.execute(e.delayed.length-1),e.delayed.push(this)},n},n.event=r,n.image=function(e){return $(e)},n.scanTags=function(t,n){if(e.scan){for(var i=0,o=e.scan.length;i<o;i++)_findTags(e.scan[i],n);!0!==t&&(e.scan=[])}},n.cloakImages=function(e,t){if(1!=g.undef(h.btoa))for(var n=0,i=e.length;n<i;n+=1){var o=e[n],r=document.getElementsByTagName(o);g.log("Cloak "+o);for(var a=0,s=r.length;a<s;a+=1)for(var c=r[a],l=0,d=t.length;l<d;l+=1){var u=t[l],f=c.getAttribute(u);null!=f&&(g.log("Cloak "+o,u,f),c.setAttribute(u,"data:image/cloaked;base64,"+btoa(f)))}}},n.document=Aa,n.captureMethods=I.captureMethods,n.overrideMethods=I.overrideMethods,r=document.getElementsByTagName("script"),0<r.length&&n.node(r[0].parentNode),n.node(document.getElementsByTagName("head")[0]),1==g.isIE()&&1==e.optimizeIE&&n.createElement(document),k.subscribe({topic:"core/start",callback:function(){Fa()}}),k.subscribe({topic:"core/configure",callback:function(){Fa()}}),k.subscribe({topic:"core/load",callback:function(){domCompleteTriggered=!0;for(var t=0;t<e.delayed.length;t++)e.delayed[t].execute()}});var E={},r={};_abTest=function(e,t,n,i,o,r,a,s){return Yo.sequence.resource(i).none().beforeLoading((function(){if(g.log("adding the google segmentation using a custom (dimension"+e+", "+t+", "+n+")",o,r),Yo.stats().errors.has&&(n+="_error"),"universal"==o){var i=!1;h.ga=function(){if(g.def(e)&&2<arguments.length&&0<=arguments[0].indexOf("set")&&arguments[1]!="dimension"+e){if((h.ga.q=h.ga.q||[]).push(arguments),ga(arguments[0],"dimension"+e,n),i=!0,1==g.def(a)){for(var t=[],o=0;o<h.ga.q.length;o++)3==h.ga.q[o].length&&h.ga.q[o][1]=="dimension"+a||(t[t.length]=h.ga.q[o]);h.ga.q=t}}else(h.ga.q=h.ga.q||[]).push(arguments),1==g.undef(a)&&0==i&&((h.ga.q=h.ga.q||[]).push(["set","dimension"+e,n]),i=!0);_abTestAnalyticsUniversal(arguments)}}else if(g.def(_gaq)){for(var c=1,l=[],d=0;d<_gaq.length;d++)g.def(_gaq[d])&&2<_gaq[d].length&&-1!=_gaq[d][0].indexOf("_setCustomVar")?(1!=g.undef(e)&&_gaq[d][1]==e||1!=g.undef(a)&&_gaq[d][1]==a||(l[l.length]=_gaq[d]),c=d):l[l.length]=_gaq[d];_gaq=l,g.def(e)&&(l="_setCustomVar",0<_gaq.length&&0<_gaq[0].length&&(-1!=(d=_gaq[0][0].indexOf("."))&&(l=_gaq[0][0].substring(0,d+1)+l)),g.def(s)&&(e=s),_gaq.splice(c,0,[l,e,t,n,g.undef(r)?2:r])),g.log("abTestAnalyticsClassic()"),_abTestAnalyticsClassic()}else g.log("Error creating ga information, no selected version",o)}))},_getCookieVariant=function(e){return l.getCookie("yo_abtesting_"+e.name+"v"+e.version)},_setCookieVariant=function(e,t,n){g.setCookie("yo_abtesting_"+e.name+"v"+e.version,t,n)},_configureAbTestAnalytics=function(){var e=config.abTestingAnalytics;g.def(e)&&g.undef(e.loaded)&&(_abTest(void 0,void 0,void 0,e.url,e.gaVersion),g.log("Registering analytics",e.url,e.gaVersion),e.loaded=!0)},_executeAllAbTest=function(){g.undef(e.abTestingAnalytics)?g.log("Analytics for ab testing not properly defined"):"classic"==e.abTestingAnalytics.gaVersion?_executeAllAbTestClassic():_executeAllAbTestUniversal()},_executeAllAbTestUniversal=function(){for(var t in e.abTesting){var n=e.abTesting[t];_executeAbTest(n),ga("set","dimension"+n.analytics.index,n.valuePrefix+n.name+"_v"+n.version+"_"+n.chosenVariant)}1==E.delayedTrack&&ga("send","pageview")},_executeAllAbTestClassic=function(){var t=null;if(g.def(h._gat)&&g.def(E.uaCode))for(var n=h._gat._getTrackers(),i=0;i<n.length;i++)n[i]._getAccount()==E.uaCode&&(t=n[i]);for(var o in e.abTesting)n=e.abTesting[o],_executeAbTest(n),i=2,"hit"==n.analytics.stickiness?i=3:"visitor"==n.analytics.stickiness&&(i=1),null!=t?t._setCustomVar(n.analytics.index,n.analytics.name,n.valuePrefix+n.name+"_v"+n.version+"_"+n.chosenVariant,i):g.def(h._gaq)&&h._gaq.push(["_setCustomVar",n.analytics.index,n.analytics.name,n.valuePrefix+n.name+"_v"+n.version+"_"+n.chosenVariant,i]);1==E.delayedTrack&&(null!=t?(t._trackPageview(),g.log("pageTracker._trackPageview()")):g.def(h._gaq)?(h._gaq.push(["_trackPageview"]),g.log("window._gaq.push(['_trackPageview'])")):g.log("Did not find the UA code so we can not track"))},_executeAbTest=function(e){var t=_getCookieVariant(e);if(null==t&&(t=_chooseVariant(e)),"hit"!=e.stickiness&&_setCookieVariant(e,t,"visitor"==e.stickiness?864e5:60*(g.undef(e.sessionTime)?30:e.sessionTime)),g.log("Variant",t,"was chooen for test",e.name),e.chosenVariant=t,e=e.variants[t],g.undef(e))"original"!=t&&g.log("Using original content as the variant",t,"was not found");else for(t=0;t<e.targets.length;t++){var n=e.targets[t];"function"==typeof n?n():Yo.sequence.content(n).load()}},_abTestScript=function(t){var n=t.getAttribute(e.pre+"abtestname"),i=e.abTesting[n];if(g.undef(i))g.log("Found variant script for test",n,"but doesn't exist");else if(n=t.getAttribute(e.pre+"variant"),g.def(i.variants[n]))g.log("Variant script with existing name",n,"already exists. This variant will be excluded");else{n=t.getAttribute(e.pre+"variantname");var o=t.getAttribute(e.pre+"splitcondition");g.undef(i.variants[n])?i.variants[n]={splitCondition:o,targets:[t]}:i.variants[n].targets.push(t),g.log("Found script variant",n,"with splitCondition",o)}},_chooseVariant=function(e){var t=e.variants;if("percentage"==e.splitBy){var n,i=0;for(n in t){var o=i;(e=t[n]).splitCondition*=1,i+=e.splitCondition,e.splitCondition+=o}for(n in 100<t[t.length-1]&&g.log("Total percentage of variants is greater than 100, test will always leave out some variants"),i=100*Math.random(),t)if(i<(e=t[n]).splitCondition)return n;return"original"}g.log("Unsupported splitType",e.splitBy,"for test",e.name)},_abTestAnalyticsUniversal=function(e){"send"==e[0]&&g.def(E.delayedTrack)&&(h.ga.q.pop(),E.delayedTrack=!0)},_abTestAnalyticsClassic=function(e){if(g.def(E.delayedTrack)){e=[];for(var t=0;t<_gaq.length;t++)g.undef(_gaq[t])||1>_gaq[t].length||"_trackPageview"!=_gaq[t][0]?("_setAccount"==_gaq[t][0]&&(E.uaCode=_gaq[t][1]),e[e.length]=_gaq[t]):E.delayedTrack=!0;_gaq=e}},r.universal=function(e,t,n,i){return _abTest(e,void 0,t,n,"universal",void 0,i)},r.classic=function(e,t,n,i,o,r){return _abTest(e,t,n,i,"classic",o,r)},r.omniture=function(e,t,n,i){var o=s.t;s.t=function(){return n&&(s[n]=i+s[n]),s["eVar"+e]=t,o.apply(this,arguments)}},r.abTesting=function(t){g.undef(t.variants)&&(t.variants={}),g.undef(t.splitBy)&&(t.splitBy="percentage"),g.undef(t.stickiness)&&(t.stickiness="session"),g.undef(t.version)&&(t.version="0"),g.undef(t.analytics)&&(t.analytics={}),g.undef(t.analytics.valuePrefix)&&(t.analytics.valuePrefix="yo_abtesting_"),g.undef(t.analytics.name)&&(t.analytics.name="yottaa_abtest"),g.undef(t.valuePrefix)&&(t.valuePrefix=""),e.abTesting[t.name]=t},r.abVariant=function(t,n){var i=e.abTesting[name];g.undef(i)&&g.log("Test",name,"was not defined"),i.variants.push(n)},k.subscribe({topic:"core/load",callback:function(){_executeAllAbTest()}}),e.services=[];var Q={add:function(t){return t={afterLoaded:ma,beforeLoading:la,host:t.host,key:"*"+t.host+"*",properties:t,name:t.name,budget:t.budget},e.services.push(t),k.publish({topic:"services/add",message:t}),t},findByHost:function(e){for(var t=Q.list(),n=0;n<t.length;n++){var i=t[n];if(1==g.matchUrl(i.host,e))return g.log("Found service configuration for "+e+" service ",i),i}return g.log("Did NOT find service configuration for "+e+" checking local configuration. "),null},findByName:function(e){for(var t=Q.list(),n=0;n<t.length;n++){var i=t[n];if(i.name==e)return g.log("Found service configuration for "+e+" service ",i),i}return g.log("Did NOT find service configuration for "+e+" checking local configuration. "),null},list:function(){return e.services}};q={},e.scheduling={onLoadTime:null,lastScheduleTime:6e3,last:100,step:100,scheduled:!1,hosts:[],priorities:{low:{last:3e3,step:100},medium:{last:1e3,step:100},high:{last:100,step:100},critical:{last:-1}},prioritiesToKeep:[],serviceToKeep:[],budgetTime:!1,servicesToBudget:[],loadTime:(new Date).getTime()},q.resource=function(e){return{afterLoaded:ma,beforeLoading:la,src:e,key:"*"+e+"*"}},q.bestFit=function(){e.scheduling.type="bestfit",e.scheduling.scheduled=!0},q.priority=function(t){if(e.scheduling.type="priority",e.scheduling.scheduled=!0,t&&t.services)for(var n=0;n<t.services.length;n++)Yo.services.add(t.services[n])},q.spread=function(t){e.scheduling.type="spread",g.def(t)&&(e.scheduling.step=t),e.scheduling.scheduled=!0},q.configure=function(t){for(var n in t)e.scheduling[n]=t[n];return k.publish({topic:"schedule/configure",message:e}),e.scheduling},q.budget=function(t){if(t){if(t.budgetTime&&(e.scheduling.budgetTime=t.budgetTime),t.prioritiesToKeep&&(e.scheduling.prioritiesToKeep=t.prioritiesToKeep),t.servicesToBudget){e.scheduling.servicesToBudget=t.servicesToBudget;for(var n=0;n<t.servicesToBudget.length;n++){var i=t.servicesToBudget[n];i.budget=!0,Yo.services.add(i)}}e.scheduling.budgeter=t.budgeter?t.budgeter:hb}},k.subscribe({topic:"core/start",callback:function(){}}),k.subscribe({topic:"sequence/captured",callback:function(t,n){null!=e.scheduling.onLoadTime&&(new Date).getTime()>e.scheduling.onLoadTime+e.scheduling.lastScheduleTime?g.log("Scheduling has expired",e.scheduling.lastScheduleTime):1==e.scheduling.scheduled&&("spread"==e.scheduling.type?pa(t,n):"bestfit"!=e.scheduling.type&&"priority"==e.scheduling.type&&ib(t,n))}});var ib=function(t,n){if(t.newNode){var i=t.newNode.src;if(i&&0<i.length){var o=qa(i),r=Q.findByHost(o);if(null!=o&&-1==e.scheduling.hosts.indexOf(o)){if(null==r)return pa(t,n);var a=e.scheduling.priorities[r.properties.priority];if(g.log("Service found ",r.properties.name,r.properties.priority),1==g.undef(a))return pa(t,n);0<=a.last&&(a.last+=a.step,k.subscribe({topic:"sequence/beforeloading/*"+o+"*",callback:function(){-1==e.scheduling.hosts.indexOf(o)&&e.scheduling.hosts.push(o)}}),i=null!=e.scheduling.budgeter&&e.scheduling.budgeter(r,i,t,e.scheduling),g.log("Scheduling resource ",t.newNode.src,o,"defer",a.last,", isBudgeted = ",i),1==i?t.newNode.delayType="remove":(t.newNode.delayType="defer",t.newNode.delayValue=a.last))}}}},pa=function(t,n){if(t.newNode){var i=t.newNode.src;if(i&&0<i.length){var o=qa(i),r=Q.findByHost(i);null!=o&&-1==e.scheduling.hosts.indexOf(o)&&(e.scheduling.last+=e.scheduling.step,k.subscribe({topic:"sequence/beforeloading/*"+o+"*",callback:function(){-1==e.scheduling.hosts.indexOf(o)&&e.scheduling.hosts.push(o)}}),i=null!=e.scheduling.budgeter&&e.scheduling.budgeter(r,i,t,e.scheduling),g.log("Scheduling resource ",t.newNode.src,o,"defer",e.scheduling.last,", isBudgeted = ",i),1==i?t.newNode.delayType="remove":(t.newNode.delayType="defer",t.newNode.delayValue=e.scheduling.last))}}},hb=function(t,n,i,o){i=o.budgetTime;var r=qa(n);if(!1!==i){if((new Date).getTime()-e.scheduling.loadTime>=i)return-1==o.hosts.indexOf(r)&&(o.servicesToBudget&&0<o.servicesToBudget.length?!(!(t=Q.findByHost(n))||!0!==t.budget)&&(p.addViolation(5,n),!0):-1==o.prioritiesToKeep.indexOf(t.properties.priority)&&(null==t||0!=t.budget)&&(p.addViolation(5,n),!0));null!=t&&(t.budget=!1)}return!1},qa=function(e){return(e=e.split("/")[2])?e=e.split(".").slice(-2).join("."):null};k.subscribe({topic:"core/load",callback:function(){e.scheduling.onLoadTime=(new Date).getTime()}});var ra={create:function(t){var n=e;-1==n.srcAttrs.indexOf("data-src")&&n.srcAttrs.push("data-src"),-1==n.srcAttrs.indexOf("data-srcset")&&n.srcAttrs.push("data-srcset"),n.imagePipeline=t,k.subscribe({topic:"sequence/beforeloading/*",callback:function(e,n){g.log("Yo.imagePipeline.beforeLoading - ",e);var i=e.before,o=t.optimizer||ra.optimizer;o&&i&&i.nodeName&&"img"==i.nodeName.toLowerCase()&&(i=o(i,e.srcAttr))&&(g.log("Yo.imagePipeline updating image src - ",i),e.srcAttr=i)}})},rewrite:function(e,t){if(-1==t.indexOf(".yottaa.net")){var n=Yo.stats().config.imagePipeline;return g.log("Yo.imagePipeline.rewrite",n,e,t),location.protocol+n.cdn+"/"+n.profileId+"/"+e+"/"+n.version+"/"+t}},optimizer:function(e,t,n){return g.log("Yo.imagePipeline default image optimized",e,t),n=n||[],(e=g.browser())&&"chrome"===e.name?n.push("f_webp"):e&&"safari"===e.name&&13<=e.version&&n.push("f_jp2"),ra.rewrite("o~"+n.join(","),t)}};return h.Yo||(h.Yo={}),H={utils:g,pubsub:k,configure:function(t,n){if("string"==typeof t){if((s="ul= dl= dt= sd= sr= vp= ct= rtt=".split(" "))[0]+=navigator.language,s[1]+=encodeURIComponent(h.location.href.substring(0,1e3)),s[2]+=encodeURIComponent(document.title),s[3]+=h.screen.colorDepth,s[4]+=h.screen.width+","+h.screen.height,s[5]+=h.screen.availWidth+","+h.screen.availHeight,n)for(var i in n)s.push(i+"="+encodeURIComponent(n[i]));i=navigator.connection||navigator.mozConnection||navigator.webkitConnection,s[6]+=i?i.effectiveType:"unknown",s[7]+=i?i.rtt:"unknown";try{if(h.sessionStorage&&sessionStorage.getItem){var o=sessionStorage.getItem("rapid.testVariations");if(o&&"undefined"!=o){var r=JSON.parse(o);for(i=0;i<r.length;i++)1==r[i].sticky&&s.push("testVariation="+r[i].testId+"-"+r[i].variationName)}if(-1!=(iPos=h.location.hash.indexOf("yoQoeConfig=")))var a=h.location.hash.substring(iPos+12).split("&"),s=s.concat(a)}}catch(e){l.log("sessionStorage was not available")}r=null,(r=h.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).open("GET",t+"&"+s.join("&"),!1),r.send(""),(s=document.createElement("script")).type="text/javascript",s.text=r.responseText,document.getElementsByTagName("head")[0].appendChild(s);try{h.sessionStorage&&sessionStorage.setItem&&(o=p.get().testVariations)&&sessionStorage.setItem("rapid.testVariations",JSON.stringify(o))}catch(e){l.log("sessionStorage was not available")}}else for(i in t)"resources"==i?e.resources=e.resources.concat(t.resources):e[i]=t[i];k.publish({topic:"core/configure",message:e})},sequence:n,rum:p,abTesting:r,insert:{HEAD_START:"head_start",HEAD_END:"head_end",BODY_START:"body_start",BODY_END:"body_end",location:function(e){null!=document.body?document.write("<di'+'v id='yo_tag_"+e+"'></di'+'v>"):document.write("<script id='yo_tag_"+e+"'><\/script>"),k.publish({topic:"tag/location/"+e,persistent:!0})},resource:function(e,t,n,i){var o=Yo.sequence.script(e);return o.loaded=!0,k.subscribe({topic:"tag/location/"+t,callback:function(){var e=g.select("#yo_tag_"+t);Yo.sequence.node(e),n&&""!=n||(n="none"),o[n](i),o.loaded=!1,o.load(e)}}),o},script:function(e,t,n,i){var o=Yo.sequence.script(e);return o.loaded=!0,k.subscribe({topic:"tag/location/"+t,callback:function(){n&&""!=n||(n="none"),o[n](i),o.loaded=!1,o.eval()}}),o},content:function(e,t,n,i){var o=document.createElement("script");n&&""!=n||(n="none"),o.setAttribute("type","yo/sequencing/"+n+"/"+i);var r=Yo.sequence.content(o);return r.loaded=!0,0==t.indexOf("css:")?k.subscribe({topic:"core/load",callback:function(){g.def(e.nodeName)?o.appendChild(e):o.innerHTML=e;var n=t.split(":");r.before=g.select(n[1]),3==n.length&&("after"==n[2]?null==r.before.nextSibling?(r.before=r.before.parentNode,r.how="append"):r.before=r.before.nextSibling:"prepend"==n[2]?0<r.before.childNodes.length?r.before=r.before.childNodes[0]:r.how="append":"append"==n[2]&&(r.how="append")),r.loaded=!1,r.load()}}):k.subscribe({topic:"tag/location/"+t,callback:function(){g.def(e.nodeName)?o.appendChild(e):o.innerHTML=e,r.loaded=!1,r.before=g.select("#yo_tag_"+t),r.load()}}),r}},stats:ka,geo:function(){if(0===arguments.length)return B.geo;1===arguments.length&&(B.geo=arguments[0],k.publish({topic:"core/geo",message:arguments[0]}))},services:Q,schedule:q,imagePipeline:ra},h.Yo=H,k.publish({topic:"core/start",message:H}),h.yo_addScaner=Yo.sequence.addScanner,h.yo_createTimer=Yo.sequence.createTimer,h.yo_displayNow=Yo.sequence.displayNow,h.yo_configureAfterShock=Yo.configure,h.yo_afterShockStats=Yo.stats,h.yo_nodeWatch=Yo.sequence.node,h.yo_addResource=function(e,t,n,i,o,r){(e=Yo.sequence.resource(e))[t](n),i&&e.beforeLoading(i),o&&e.afterLoaded(o),r&&e.writeLocation(r)},h.yo_scriptLoader=function(e,t,n,i,o,r){(e=Yo.sequence.script(e))[t](n),i&&e.beforeLoading(i),o&&e.afterLoaded(o),r&&e.writeLocation(r),e.load()},h.yo_deferLoadResource=function(e,t,n,i,o){yo_addResource(e,"defer",t,n,i,o)},h.yo_lazyLoadResource=function(e,t,n,i,o){yo_addResource(e,"lazy",t,n,i,o)},h.Yo}));